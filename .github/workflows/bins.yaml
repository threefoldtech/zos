name: Runtime packages
on:
  push:
    branches:
      - "*"
    tags-ignore:
      - v*
    paths:
      - "bins/**"
      - ".github/workflows/bins.yaml"

jobs:
  containerd:
    uses: ./.github/workflows/bin-package.yaml
    with:
      package: ${{ github.job }}
  runc:
    uses: ./.github/workflows/bin-package.yaml
    with:
      package: ${{ github.job }}
  promtail:
    uses: ./.github/workflows/bin-package.yaml
    with:
      package: ${{ github.job }}
  virtwhat:
    uses: ./.github/workflows/bin-package.yaml
    with:
      package: ${{ github.job }}
  logtrunc:
    uses: ./.github/workflows/bin-package.yaml
    with:
      package: ${{ github.job }}
  yggdrasil:
    uses: ./.github/workflows/bin-package.yaml
    with:
      package: ${{ github.job }}
  zufs:
    uses: ./.github/workflows/bin-package.yaml
    with:
      run-on: ubuntu-18.04
      package: ${{ github.job }}
  hdparm:
    uses: ./.github/workflows/bin-package.yaml
    with:
      package: ${{ github.job }}
  corex:
    uses: ./.github/workflows/bin-package.yaml
    with:
      package: ${{ github.job }}
  cloudhypervisor:
    uses: ./.github/workflows/bin-package.yaml
    with:
      package: ${{ github.job }}
  msgbusd:
    uses: ./.github/workflows/bin-package.yaml
    with:
      package: ${{ github.job }}
  tailstream:
    uses: ./.github/workflows/bin-package.yaml
    with:
      package: ${{ github.job }}
